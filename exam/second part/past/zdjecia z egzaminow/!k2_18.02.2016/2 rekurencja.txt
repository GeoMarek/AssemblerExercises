.686
.model flat
public _szereg

.code
_szereg PROC ; float szereg(unsigned int n);
	push ebp
	mov ebp, esp
	finit

	mov eax, [ebp + 8]
	cmp eax, 1
	jne rekurencja
	fld1
	fld1
	fld1
	fadd; 2 | 1
	fdiv; 1/2
	jmp koniec

rekurencja:
	fild dword ptr [ebp + 8]
	fld1
	fadd ; n+1
	fld1 ; 1 | n+1
	fxch ; n+1 | 1
	fdiv ; 1/(n+1)

	sub esp, 4
	fst dword ptr [esp]

	dec eax
	push eax
	call _szereg
	add esp, 4

	fld dword ptr [esp]
	add esp, 4
	fadd

koniec:
	pop ebp
	ret
_szereg ENDP

END