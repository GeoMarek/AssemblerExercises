.686
.model flat
extern __write : PROC
public _druk

.code
_druk PROC ; void druk(char*, int n);
	push ebp
	mov ebp, esp

	mov esi, [ebp + 8]
	mov ecx, [ebp + 12]
	;=== fragment begin
	mov eax, ecx
	shl eax, 1 ; 2*d³ugoœæ napisu
	sub esp, eax
	mov edi, esp ; zarezerowany obszar
	push eax ; ilosc zarezrowanego miejsca
	mov edx, 0

ptl:
	mov al, [esi + edx]
	mov [edi + 2 * edx], al
	mov [edi + 2 * edx + 1], byte ptr ' '
	inc edx
	cmp edx, ecx
	jne ptl

	push edi ; obszar
	push 1
	call __write
	add esp, 8
	pop eax
	add esp, eax
	;=== fragment end
	pop ebp
	ret
_druk ENDP

END

;==============

#include <iostream>
#include <bitset>
using namespace std;
extern "C" void druk(char*, int n);

int main()
{	
	char napis[] = "Politechnika";
	druk(napis, 12);
	return 0;
}